(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".why-our__card"),t=document.querySelector(".btn__next"),n=document.querySelector(".btn__prev");let s=1;function c(t){t>e.length&&(s=1),t<1&&(s=e.length),e.forEach((e=>e.style.cssText="\n            opacity: 0;\n        ")),e[s-1].style.cssText="\n            opacity: 1;\n        "}function o(e){c(s+=e)}c(s),n.addEventListener("click",(()=>{o(-1)})),t.addEventListener("click",(()=>{o(1)}));const r=document.querySelector(".clients__card-wrapper");function l(){const e=parseFloat(window.getComputedStyle(r).width),t=document.querySelector(".clients__card-inner"),n=document.querySelector(".slider__btn_left"),s=document.querySelector(".slider__btn_right"),c=document.querySelectorAll(".bg"),o=[];let l,i,a=0;e>1200?l=3:e<1200&&e>=700?l=2:e<700&&(l=1),c.forEach((t=>{const n=t.style.minWidth=e/l+"px";o.push(n)})),i=e<1200&&e>=700?o.length-2:e<700?o.length-1:o.length-3;let d=o[3],u=parseFloat(d.slice(0,d.length-2));function m(){a+=u,t.style.left=`-${a}px`,a>u*i&&(a=0,t.style.left=`${a}px`)}function v(){a<=0?(a+=u*i,t.style.left=`-${a}px`):(a-=u,t.style.left=`-${a}px`)}return s.addEventListener("click",(()=>{m()})),n.addEventListener("click",(()=>{v()})),{nextCard:m,prevCard:v,bgCardArray:o}}const i=l();let a;r.addEventListener("touchstart",(function(e){a=e.touches[0].clientX})),r.addEventListener("touchmove",(function(e){if(!a)return;const t=e.touches[0].clientX-a;t>0?i.prevCard():t<0&&i.nextCard(),a=null})),r.addEventListener("touchend",(function(){a=null})),window.addEventListener("resize",(()=>{l()}));const d=document.querySelector(".modal__sing-in"),u=document.querySelector(".modal__sing-up"),m=document.querySelectorAll("[data-btn-register]"),v=document.querySelectorAll("[data-close-modal]"),y=document.querySelector("[data-open-log-in]"),_=document.querySelector("[data-open-sing-up]");function p(){d.classList.remove("show"),d.classList.remove("show-two"),u.classList.remove("show-two"),document.body.style.overflow=""}m.forEach((e=>{e.addEventListener("click",(()=>{d.classList.add("show"),document.body.style.overflow="hidden"}))})),v.forEach((e=>{e.addEventListener("click",(()=>{p()}))})),_.addEventListener("click",(()=>{d.classList.add("show-two"),u.classList.add("show-two")})),y.addEventListener("click",(()=>{d.classList.remove("show-two"),u.classList.remove("show-two")})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&d.classList.contains("show")&&p()}));const h=document.querySelector(".sing-up__modal-body"),f=document.querySelector(".sing-in__modal-body"),g=document.querySelector("#input__full-name"),L=document.querySelector("#inputPassword"),w=document.querySelector("#inputConfirmPassword"),S=document.querySelector("#input__email-address"),q=document.querySelector("#checkbox__privacy"),E=document.querySelector(".input__full-name"),b=document.querySelector(".input__email"),x=document.querySelector("#block__password"),k=document.querySelector("#block__confirm-password"),C=document.querySelectorAll(".password__hide"),A=async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:t});return await n.json()};function T(e,t){const n=""==e.value.trim();return n?(t.classList.remove("success"),t.classList.add("warning")):(t.classList.remove("warning"),t.classList.add("success")),console.log(!n),!n}function j(e){const t=L.value===w.value,n=e.value.length>=8;return t&&n?(x.classList.remove("warning"),x.classList.add("success"),k.classList.remove("warning"),k.classList.add("success")):(x.classList.remove("success"),x.classList.add("warning"),k.classList.remove("success"),k.classList.add("warning")),console.log(t&&n),t&&n}function O(e,t){const n=/@gmail\.com/gi.test(e.value);return n?(t.classList.remove("warning"),t.classList.add("success")):(t.classList.remove("success"),t.classList.add("warning")),console.log(n),n}function D(e){e.classList.remove("success","warning")}var M;C.forEach((e=>{e.addEventListener("click",(()=>{!function(e){const t=e.getAttribute("data-target");let n=document.getElementById(t);e.checked?n.type="text":n.type="password"}(e)}))})),g.addEventListener("input",(()=>{T(g,E)})),S.addEventListener("input",(()=>{T(S,b),O(S,b)})),L.addEventListener("input",(()=>{j(L)})),w.addEventListener("input",(()=>{j(w)})),(M=h).addEventListener("submit",(e=>{e.preventDefault();const t=T(g,E),n=T(S,b),s=j(L),c=O(S,b),o=j(w),r=q.checked;if(t&&n&&c&&o&&s&&r){const e=new FormData(M),t=JSON.stringify(Object.fromEntries(e.entries()));A("http://localhost:3000/requestsSingUp",t).then((e=>{console.log(e)})).catch((()=>{console.log("Щось пішло не так!")})).finally((()=>{M.reset(),D(E),D(b),D(x),D(k),p()}))}else console.log("Не виконані умови для відправлення форми.")})),function(e){e.addEventListener("submit",(t=>{t.preventDefault();const n=new FormData(e),s=JSON.stringify(Object.fromEntries(n.entries()));A("http://localhost:3000/requestsLogIn",s).then((e=>{console.log(e)})).catch((()=>{console.log("Щось пішло не так!")})).finally((()=>{e.reset()}))}))}(f);const $=document.querySelector(".block__textarea_content"),F=document.querySelector(".clients__card-inner"),H=document.querySelector(".warning__text"),N=document.querySelector("#clientTextarea"),J=document.querySelector("#clientName"),P=document.querySelector("#clientAddress"),B=document.querySelector(".counter__length");function I(e){const t=""==e.value.trim();return H.innerHTML=t?"The field must be filled":"",!t}var X,z;z=B,(X=N).addEventListener("input",(()=>{let e=X.value.length;z.innerHTML=e+" / 150"})),J.addEventListener("input",(()=>{I(J)})),P.addEventListener("input",(()=>{I(P)})),N.addEventListener("input",(()=>{I(N)})),function(e){e.addEventListener("submit",(t=>{t.preventDefault();const n=I(J),s=I(P),c=I(N);if(n&&s&&c){const t=new FormData(e),n=JSON.stringify(Object.fromEntries(t.entries()));A("http://localhost:3000/requestClietnResponse",n).then((e=>{var t,n,s;console.log(e),t=N,n=J,s=P,F.insertAdjacentHTML("afterbegin",`\n            <div class="bg">\n                <div class="clients__card">\n                    <div class="card__user d-flex justify-content-between align-items-center mb-4">\n                        <div class="user__info d-flex">\n                            <div class="user__image me-2">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">\n                                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>\n                                    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>\n                                </svg>\n                            </div>\n                            <div class="user__name d-flex flex-column justify-content-center">\n                                <h5 class="name">${n.value}</h5>\n                                <p class="addres">${s.value}</p>\n                            </div>\n                        </div>\n                        <div class="card__mark">\n                            <input type="checkbox" name="" id="client__mark">\n                            <span class="mark_heart"></span>\n                        </div>\n                    </div>\n                    <div class="card__user-text">\n                        <p class="card_md_text text-start">${t.value}</p>\n                    </div>\n                </div>\n            </div>\n        `),l()})).catch((()=>{console.log("Щось пішло не так!")})).finally((()=>{e.reset()}))}else H.innerHTML="The field must be filled"}))}($)}))})();